SQL> rem darle una comisi¢n X a los empleados que trabajan en 'MADRID'


SQL> rem  ¡Nos han abandonado! Borrar un empleado con un Nº X (pasar por parametro)
SP2-0734: 
SQL> CREATE OR REPLACE PROCEDURE delete_empleado(
  2  num_emp emple.emp_no%TYPE)
  3  AS
  4  BEGIN
  5  DELETE FROM emple WHERE emp_no = num_emp;
  6  END borrar_emple;
  7  /

Procedimiento creado.

SQL> execute borrar_emple(7369);

Procedimiento PL/SQL terminado correctamente.

SQL> select * from emple;

    EMP_NO APELLIDO   OFICIO            DIR FECHA_AL    SALARIO   COMISION    DEPT_NO                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   
---------- ---------- ---------- ---------- -------- ---------- ---------- ----------                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   
      7499 ARROYO     VENDEDOR         7698 20/02/80     208000      39000         30                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   
      7521 SALA       VENDEDOR         7698 22/02/81     162500      65000         30                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   
      7566 JIMNEZ    DIRECTOR         7839 02/04/81     386750                    20                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   
      7654 MARTÖN     VENDEDOR         7698 29/09/81     162500     182000         30                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   
      7698 NEGRO      DIRECTOR         7839 01/05/81     370500                    30                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   
      7782 CEREZO     DIRECTOR         7839 09/06/81     318500                    10                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   
      7788 GIL        ANALISTA         7566 09/11/81     390000                    20                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   
      7839 REY        PRESIDENTE            17/11/81      50000                    10                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   
      7844 TOVAR      VENDEDOR         7698 08/09/81     195000          0         30                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   
      7876 ALONSO     EMPLEADO         7788 23/09/81     143000                    20                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   
      7900 JIMENO     EMPLEADO         7698 03/12/81     123500                    30                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   
      7902 FERNµNDEZ  ANALISTA         7566 03/12/81     390000                    20                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   
      7934 MU¥OZ      EMPLEADO         7782 23/01/82     169000                    10                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   

13 filas seleccionadas.

SQL> CREATE OR REPLACE
  2  PROCEDURE modificar_localidad(
  3  num_depart NUMBER,
  4  localidad VARCHAR2)
  5  AS
  6  BEGIN
  7  UPDATE depart SET loc = localidad
  8  WHERE dept_no = num_depart;
  9  END modificar_localidad;
 10  /

Procedimiento creado.

SQL> excute modificar localidad(10, 'BUENOS AIRES');
SP2-0734: inicio "excute mod..." de comando desconocido - resto de la línea ignorado.
SQL> excute modificar_localidad(10, 'BUENOS AIRES');
SP2-0734: inicio "excute mod..." de comando desconocido - resto de la línea ignorado.
SQL> exEcute modificar_localidad(10, 'BUENOS AIRES');

Procedimiento PL/SQL terminado correctamente.

SQL> select * from emple;

    EMP_NO APELLIDO   OFICIO            DIR FECHA_AL    SALARIO   COMISION    DEPT_NO                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   
---------- ---------- ---------- ---------- -------- ---------- ---------- ----------                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   
      7499 ARROYO     VENDEDOR         7698 20/02/80     208000      39000         30                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   
      7521 SALA       VENDEDOR         7698 22/02/81     162500      65000         30                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   
      7566 JIMNEZ    DIRECTOR         7839 02/04/81     386750                    20                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   
      7654 MARTÖN     VENDEDOR         7698 29/09/81     162500     182000         30                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   
      7698 NEGRO      DIRECTOR         7839 01/05/81     370500                    30                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   
      7782 CEREZO     DIRECTOR         7839 09/06/81     318500                    10                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   
      7788 GIL        ANALISTA         7566 09/11/81     390000                    20                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   
      7839 REY        PRESIDENTE            17/11/81      50000                    10                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   
      7844 TOVAR      VENDEDOR         7698 08/09/81     195000          0         30                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   
      7876 ALONSO     EMPLEADO         7788 23/09/81     143000                    20                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   
      7900 JIMENO     EMPLEADO         7698 03/12/81     123500                    30                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   
      7902 FERNµNDEZ  ANALISTA         7566 03/12/81     390000                    20                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   
      7934 MU¥OZ      EMPLEADO         7782 23/01/82     169000                    10                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   

13 filas seleccionadas.

SQL> select * from depart;

   DEPT_NO DNOMBRE        LOC                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           
---------- -------------- --------------                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                
        10 CONTABILIDAD   BUENOS AIRES                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  
        20 INVESTIGACIàN  MADRID                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        
        30 VENTAS         BARCELONA                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     
        40 PRODUCCIàN     BILBAO                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        

SQL> spool off
